plugins {
    id 'com.github.spotbugs'
}

dependencies {
    spotbugs 'com.github.spotbugs:spotbugs:4.8.2'
    spotbugsPlugins 'com.h3xstream.findsecbugs:findsecbugs-plugin:1.12.0'

    compileOnly 'com.google.code.findbugs:jsr305:3.0.2'
    compileOnly 'com.github.spotbugs:spotbugs-annotations:4.8.2'

    testImplementation 'com.google.code.findbugs:jsr305:3.0.2'
}

spotbugs {
    // ignore failures unless all issues are fixed
    // find current issues in reports/spotbugs for each library
    ignoreFailures = true

    showStackTraces = true
    showProgress = false

    effort = "max"
    reportLevel = "low"

    reportsDir = project.layout.getBuildDirectory().dir('reports/spotbugs').get().asFile
}
